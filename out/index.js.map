{"version":3,"file":"index.js","sources":["../node_modules/svelte-preprocess-filter/out/module.js","../src/index.js"],"sourcesContent":["/* eslint-disable import/prefer-default-export */\n\nfunction style({ name, all = false, type = true, lang = true } = {}, { attributes } = {}) {\n  if (all) {\n    return true;\n  }\n\n  if (!name) {\n    throw new Error('Missing \\'name\\' filter option');\n  }\n  if (!attributes) {\n    throw new Error('No attributes passed to filter');\n  }\n\n  const typeAttributes = [type && attributes.type, lang && attributes.lang];\n\n  return typeAttributes.includes(name) || typeAttributes.includes(`text/${name}`);\n}\n\nexport { style };\n//# sourceMappingURL=module.js.map\n","import { dirname } from 'path';\nimport sassCompiler from 'node-sass';\nimport { style as filter } from 'svelte-preprocess-filter';\n\nexport async function preprocessSass(\n  sassOptions = {},\n  filterOptions = {},\n  { filename, content, attributes }\n) {\n  if (!filter(Object.assign({ name: 'sass' }, filterOptions), { attributes })) { return null; }\n\n  const { css, map } = await new Promise((resolve, reject) => sassCompiler.render(Object.assign({\n    file: filename,\n    data: content,\n    includePaths: [\n      dirname(filename),\n    ],\n  }, sassOptions), (err, result) => {\n    if (err) {\n      reject(err);\n    } else {\n      resolve(result);\n    }\n  }));\n\n  return { code: css.toString(), map };\n}\n\nexport function sass(sassOptions, filterOptions) {\n  return preprocessSass.bind(null, sassOptions, filterOptions);\n}\n"],"names":["style","name","all","type","lang","attributes","Error","typeAttributes","includes","preprocessSass","sassOptions","filterOptions","filename","content","filter","Object","assign","css","map","Promise","resolve","reject","sassCompiler","render","dirname","err","result","code","toString","sass","bind"],"mappings":";;;;;;;;;AAAA;;AAEA,SAASA,KAAT,CAAe,EAAEC,IAAF,EAAQC,MAAM,KAAd,EAAqBC,OAAO,IAA5B,EAAkCC,OAAO,IAAzC,KAAkD,EAAjE,EAAqE,EAAEC,UAAF,KAAiB,EAAtF,EAA0F;MACpFH,GAAJ,EAAS;WACA,IAAP;;;MAGE,CAACD,IAAL,EAAW;UACH,IAAIK,KAAJ,CAAU,gCAAV,CAAN;;MAEE,CAACD,UAAL,EAAiB;UACT,IAAIC,KAAJ,CAAU,gCAAV,CAAN;;;QAGIC,iBAAiB,CAACJ,QAAQE,WAAWF,IAApB,EAA0BC,QAAQC,WAAWD,IAA7C,CAAvB;;SAEOG,eAAeC,QAAf,CAAwBP,IAAxB,KAAiCM,eAAeC,QAAf,CAAyB,QAAOP,IAAK,EAArC,CAAxC;;;ACZK,eAAeQ,cAAf,CACLC,cAAc,EADT,EAELC,gBAAgB,EAFX,EAGL,EAAEC,QAAF,EAAYC,OAAZ,EAAqBR,UAArB,EAHK,EAIL;MACI,CAACS,MAAOC,OAAOC,MAAP,CAAc,EAAEf,MAAM,MAAR,EAAd,EAAgCU,aAAhC,CAAP,EAAuD,EAAEN,UAAF,EAAvD,CAAL,EAA6E;WAAS,IAAP;;;QAEzE,EAAEY,GAAF,EAAOC,GAAP,KAAe,MAAM,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqBC,aAAaC,MAAb,CAAoBR,OAAOC,MAAP,CAAc;UACtFJ,QADsF;UAEtFC,OAFsF;kBAG9E,CACZW,aAAQZ,QAAR,CADY;GAHgE,EAM7EF,WAN6E,CAApB,EAM3C,CAACe,GAAD,EAAMC,MAAN,KAAiB;QAC5BD,GAAJ,EAAS;aACAA,GAAP;KADF,MAEO;cACGC,MAAR;;GAVwD,CAAjC,CAA3B;;SAcO,EAAEC,MAAMV,IAAIW,QAAJ,EAAR,EAAwBV,GAAxB,EAAP;;;AAGF,AAAO,SAASW,IAAT,CAAcnB,WAAd,EAA2BC,aAA3B,EAA0C;SACxCF,eAAeqB,IAAf,CAAoB,IAApB,EAA0BpB,WAA1B,EAAuCC,aAAvC,CAAP;;;;;;"}